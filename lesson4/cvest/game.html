<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Game - Chess</title>
    <style>
        .boards {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        button {
            margin-top: 20px;
            width: 400px;
            height: 40px;
        }
        
        #ches {
            width: 400px;
            background-color: lightblue;
            display: grid;
            grid-template-columns: repeat(10, 40px);
            justify-content: center;
        }
        
        .row_black {
            background-color: red;
        }
        
        .row {
            line-height: 40px;
            text-align: center;
            align-items: center;
            width: 40px;
            height: 40px;
            /*border: 1px solid red;*/
        }
        
        .row:hover {
            background-color: darkgreen;
        }
    </style>
</head>

<body>
   <div class="boards">
        <div id="ches"></div>
        <button onclick="newGameON()">New GAME</button>
    </div>
    
    <script type="text/javascript">
        var blackChess = ['&#9823;','&#9822','&#9821;','&#9820;','&#9819;','&#9818;'];
        var whiteChess = ['&#9817;','&#9816;','&#9815;','&#9814;','&#9813;','&#9812;'];
        
        //var blackChess = ['&#9823;','♞','♝','♜','♛','♚'];
        //var whiteChess = ['♙','♘','♗','♖','♕','♔'];
        
        var chess = document.querySelector('#ches');
        
        var letters = ['', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', ''];
        var nrRows = ['', 8, 7, 6, 5, 4, 3, 2, 1, ''];
        var c = '';
        for (let i = 0; i < 10; i++) {
            for (let s = 0; s < 10; s++) {
                if (i == 0 || i === 9) {
                    c += '<div class="row">' + letters[s] + '</div>';
                }
                else if (s === 0 || s === 9) {
                    c += '<div class="row">' + nrRows[i] + '</div>';
                }
                else if (i == 2 || i == 4 || i == 6 || i == 8 || i == 10) {
                    if (s == 0 || s == 2 || s == 4 || s == 6 || s == 8 || s == 10) {
                        c += '<div class="row" id="' + letters[s] + nrRows[i] + '"></div>';
                    }
                    else {
                        c += '<div class="row row_black" id="' + letters[s] + nrRows[i] + '"></div>';
                    }
                }
                else {
                    if (s == 1 || s == 3 || s == 5 || s == 7 || s == 9) {
                        c += '<div class="row" id="' + letters[s] + nrRows[i] + '"></div>';
                    }
                    else {
                        c += '<div class="row row_black" id="' + letters[s] + nrRows[i] + '"></div>';
                    }
                }
            }
        }
        chess.innerHTML = c;
                                              
        function newGame(r, cl) {
            var p = '';
            var pion = 2;
            if (r === 8) pion = 7
            for (let i = 0; i < letters.length; i++) {
                if (i != 0 || i != letters.length) {
                    if(letters[i] !== ''){
                        p = document.querySelector('#' + letters[i] + pion).innerHTML = colorChess(cl,0);
                    }
                    switch(letters[i]){
                        case 'A':
                        case 'H':
                            p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,3);
                            break;
                        case 'B':
                        case 'G':
                            p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,1);
                            break;
                        case 'C':
                        case 'F':
                            p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,2);
                            break;
                        case 'D':
                            if (cl === 'bl') {
                                if (document.querySelector('#D'+r).classList.contains('row_black')) {
                                    p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,4);
                                } else {
                                    p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,5);
                                }
                            } else if (cl === 'wh') {
                                if (document.querySelector('#D'+r).classList.contains('row_black')) {
                                    p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,5);
                                } else {
                                    p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,4);
                                }
                            }
                            break;
                        case 'E':
                            var t = document.querySelector('#D'+r).innerText;
                            if (t !== '') {
                                if (t === whiteChess[4]) {
                                    p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,5);
                                } else {
                                    p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,4);
                                }
                            } else {
                                p = document.querySelector('#' + letters[i] + r).innerHTML = colorChess(cl,5);
                            }
                            break;
                    }
                }
            }
        }
        function colorChess(cl,rw){
            if (cl == 'wh') return whiteChess[rw];
            else if (cl == 'bl') return blackChess[rw];
        }
        function newGameON(){
            if (Math.floor(Math.random() * 2) === 0) {
                newGame(1,'bl');
                newGame(8,'wh');
            } else {
                newGame(8,'bl');
                newGame(1,'wh');
            }
        }
        
        //newGameON();
    </script>
</body>

</html>